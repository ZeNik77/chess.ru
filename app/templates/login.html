{% extends "base.html" %}

{% block head %}
<meta charset="UTF-8">
<title>Вход</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
{% endblock %}
{% block body %}
<script src="/static/js/modules/sha512.js"></script>
<script>
    function senddt() {
        var $name = document.getElementById('username')
        var $pass = document.getElementById('password')
        var name = $name.value
        var pass = $pass.value
        var pack = {name: name, pass: sha512(pass)}
        sendinfo('/login', 'POST', function (ths) {
            if (ths.responseText) {
                location.href = '/'
            }
        }, JSON.stringify(pack))
    }
</script>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2 class="text-center">Вход</h2>
                <div class="form-group">
                    <label for="username">Имя пользователя или email</label>
                    <input type="text" class="form-control" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Пароль</label>
                    <input type="password" class="form-control" id="password" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block" onclick="senddt()">Войти</button>
            <hr>
            <p class="text-center">Нет аккаунта? <a href="/signup">Зарегистрируйтесь</a></p>
        </div>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
{% endblock %}